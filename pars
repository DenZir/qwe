import requests  
from bs4 import BeautifulSoup  
import re  
from urllib.parse import urljoin  

# URL веб-сайта, с которого вы хотите извлечь видео ссылки  
url = 'https://example.com'  # замените на нужный URL  

# Загрузка веб-страницы  
response = requests.get(url)  
response.raise_for_status()  # Проверка успешности запроса  

# Парсинг HTML-кода страницы  
soup = BeautifulSoup(response.text, 'html.parser')  

# Список для хранения найденных ссылок на видео  
video_links = []  

# Поиск всех видео ссылок  
# Проверяем в <a> тегах  
for link in soup.find_all('a', href=True):  
    href = link['href']  
    # Проверка, соответствует ли ссылка формату видео  
    if re.search(r'\.(mp4|avi|mov|wmv|mkv|flv)$', href, re.IGNORECASE):  
        video_links.append(urljoin(url, href))  # делаем путь абсолютным  

# Проверяем в <video> тегах  
for video in soup.find_all('video'):  
    source = video.find('source')  
    if source and 'src' in source.attrs:  
        video_links.append(urljoin(url, source['src']))  # делаем путь абсолютным  

# Вывод всех найденных видео ссылок  
if video_links:  
    print("Найденные видео ссылки:")  
    for i, video_link in enumerate(video_links, start=1):  
        print(f"{i}. {video_link}")  
else:  
    print("Видео ссылки не найдены.")
